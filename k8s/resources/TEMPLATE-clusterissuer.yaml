apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: <name-of-cluster-issuer> # Name of the cluster issuer. It always resides in cert-manager namespace.
spec:
  venafi:
    zone: <name-of-policy-zone> # Name of policy folder inside TPP. PKI team will enforce certificate polcies on top of this policy folder.
    tpp:
      url: https://<tpp-url>/vedsdk # Change this to the URL of your TPP instance. You must configure Network polcies/Routes/egress rules in such a manner that this URL is always accessible.
      caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURuRENDQW9TZ0F3SUJBZ0lSQVB6QVNnaUlMc2xNbVJDVGpmcEdseFV3RFFZSktvWklodmNOQVFFTEJRQXcKVHpFbk1DVUdBMVVFQ3hNZVZtVnVZV1pwSUU5d1pYSmhkR2x2Ym1Gc0lFTmxjblJwWm1sallYUmxNU1F3SWdZRApWUVFERXh0d2MyTnpZWFJ3Y0RBeExteGhZaTV6WldOMWNtRm1hUzV1WlhRd0hoY05NakF4TURBeE1ESXpOREkzCldoY05NakV4TURBeE1ESXpOREkzV2pCUE1TY3dKUVlEVlFRTEV4NVdaVzVoWm1rZ1QzQmxjbUYwYVc5dVlXd2cKUTJWeWRHbG1hV05oZEdVeEpEQWlCZ05WQkFNVEczQnpZM05oZEhCd01ERXViR0ZpTG5ObFkzVnlZV1pwTG01bApkRENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFNTGRxTW1RNjR0Q3Vmak1iTDZNCmMwS05VeWZEbjZVMmFmNVJXdUpjOWRFNndIZUkyQW9leDQweGdXeUZkelJqQ3lLU2E3RmlTeFF5VGxYcGgzdloKckdTS0VLRTg3dWlGTDMrdHoxSnF3WjV5cGxxQ29oclFhTko0ekVRaHpmdk9oWmprUWh6eXZOdTlLcjd4SkxDaApLN2IwT2dHK004L0FBa2JHWmFBMlpqZHJ6a0VkMmNhQjZDMHdDN3Q3bXk3TWRZd1V4WDB3MTVyZnQzWmJjTDBKClhHUkhqZHlUUks0NCtjRWJ3NXppZHZQYmZGSE95MnhiTTZ3UGlRSXRUQlN2cWhLZ2NHY2dZSjJaUUV4TDhJOWYKUWlDQnpONit5dVd4ZmpvV0VNeEF2QkNucmt6UGR3M3p5UE1mK1NJT0drdnFhd21sMHVjeTBaUGdZb3M2S012agpVY2tDQXdFQUFhTnpNSEV3SFFZRFZSME9CQllFRkFJTEpISmgwVjlXeFVwREsyWmF4aXdQYmJnbU1Ba0dBMVVkCkV3UUNNQUF3SmdZRFZSMFJCQjh3SFlJYmNITmpjMkYwY0hBd01TNXNZV0l1YzJWamRYSmhabWt1Ym1WME1CMEcKQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01CQmdnckJnRUZCUWNEQWpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQQpoV3J1bTR0ZXdTVU9TZ0JWMm5EZEp3aGMyVkowcjB0WVMyVXFjK0xHL0twSlR5QXlvU2lRcW9qaFU3aDcyeFAzCnpHZzYvcDcrUlJDaWxqdzRGa05NcjdPUHludnNkclNjclRSalI2NkQ4aG9RRGtSZHU2V1lkOXdLY3gwY3dOeTkKcm1hMDJxeHUwTGx6TitNUXR2MkNnY3NLcFF5UWpuc0xNTmM2NDlqWWUvcGJqUHh5WDgxQWRDM0c0cmZCVStNLwpuV2RZM3R6QTVsWHA4M1phVHRpdlMxWVMvNWZkUEdCT3ZpbDUvZkdwcGVJQ1pPS3EzS20yMEJkZFNmMzZQRXpZCmNQK0dwR1JEMGxEUnByLzJFNGh3SVM3OHNVUkJYSkRwdjQyVzlwaTU0ZjZ5bUsyV2Q0N3plMzg3RHphUVVyWEMKM0wwdVJiSlVzMmluSmRTS2RneG9Rdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
      credentialsRef:
        name: tpp-secret # Contains username/password to access TPP platform. This secret should exist in cert-manager namespace.